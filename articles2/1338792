Path: news.gmane.org!not-for-mail
From: Kyungmin Park <kmpark@infradead.org>
Newsgroups: gmane.linux.kernel.samsung-soc,gmane.linux.ports.arm.kernel,gmane.linux.kernel
Subject: =?EUC-KR?B?UmU6IMi4vcU6IMi4vcU6IFtQQVRDSF0gT0RST0lELVg6IGhrZGs0NDEyOiBBZGQg?=
	=?EUC-KR?B?bmV3IGhhcmR3YXJlIGJhc2VkIG9uIEV4eW5vczQ0MTI=?=
Date: Tue, 7 Aug 2012 13:38:53 +0900
Lines: 83
Approved: news@gmane.org
Message-ID: <CAH9JG2Wg=6Y=qirPM_BaHEgKQ2bbJtuXHiqdgU8XToGM4HBtWw@mail.gmail.com>
References: <1344262254-14648-1-git-send-email-dongjin.kim@agreeyamobility.net>
	<CAJuYYwSjnQ6z0iUaLCV9guC7yyKH3_pbd1QZe3ELKF-fYNfaqQ@mail.gmail.com>
	<A6A3B7488C419F488E5B13FFD03C08AD2F4362EE@SN2PRD0510MB370.namprd05.prod.outlook.com>
	<CAOesGMh=6QrCmL4EqnSqTxi1nH+8Wn+x=z9BYq8QJCznH3a=zQ@mail.gmail.com>
	<A6A3B7488C419F488E5B13FFD03C08AD2F43688D@SN2PRD0510MB370.namprd05.prod.outlook.com>
	<CAOesGMj6BafLCpZjmtyn_ASbpeic_8E0CdYjQGOf3A4_NHfy=Q@mail.gmail.com>
	<CAJuYYwT2rrJkrkOSekV+DjpVAHas33_gUGULTjzsYtcq1UAyoQ@mail.gmail.com>
NNTP-Posting-Host: plane.gmane.org
Mime-Version: 1.0
Content-Type: text/plain; charset=ISO-8859-1
X-Trace: dough.gmane.org 1344314341 8254 80.91.229.3 (7 Aug 2012 04:39:01 GMT)
X-Complaints-To: usenet@dough.gmane.org
NNTP-Posting-Date: Tue, 7 Aug 2012 04:39:01 +0000 (UTC)
Cc: Olof Johansson <olof@lixom.net>,
	Dongjin Kim <Dongjin.Kim@agreeyamobility.net>,
	Dongjin Kim <tobetter@gmail.com>,
	Kukjin Kim <kgene.kim@samsung.com>,
	Russell King <linux@arm.linux.org.uk>,
	Tony Lindgren <tony@atomide.com>,
	Jon Medhurst <tixy@yxit.co.uk>,
	Shawn Guo <shawn.guo@linaro.org>,
	=?ISO-8859-1?Q?Uwe_Kleine=2DK=F6nig?= 
	<u.kleine-koenig@pengutronix.de>,
	"linux-arm-kernel@lists.infradead.org" 
	<linux-arm-kernel@lists.infradead.org>,
	"linux-samsung-soc@vger.kernel.org" 
	<linux-samsung-soc@vger.kernel.org>,
	"linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>
To: Thomas Abraham <thomas.abraham@linaro.org>
Original-X-From: linux-samsung-soc-owner@vger.kernel.org Tue Aug 07 06:38:59 2012
Return-path: <linux-samsung-soc-owner@vger.kernel.org>
Envelope-to: glks-linux-samsung-soc@plane.gmane.org
Original-Received: from vger.kernel.org ([209.132.180.67])
	by plane.gmane.org with esmtp (Exim 4.69)
	(envelope-from <linux-samsung-soc-owner@vger.kernel.org>)
	id 1SybZK-00069O-K4
	for glks-linux-samsung-soc@plane.gmane.org; Tue, 07 Aug 2012 06:38:59 +0200
Original-Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1750933Ab2HGEi5 (ORCPT
	<rfc822;glks-linux-samsung-soc@m.gmane.org>);
	Tue, 7 Aug 2012 00:38:57 -0400
Original-Received: from mail-qc0-f174.google.com ([209.85.216.174]:56539 "EHLO
	mail-qc0-f174.google.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
	with ESMTP id S1750858Ab2HGEi4 (ORCPT
	<rfc822;linux-samsung-soc@vger.kernel.org>);
	Tue, 7 Aug 2012 00:38:56 -0400
Original-Received: by qcro28 with SMTP id o28so2214307qcr.19
        for <multiple recipients>; Mon, 06 Aug 2012 21:38:55 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20120113;
        h=mime-version:sender:in-reply-to:references:date
         :x-google-sender-auth:message-id:subject:from:to:cc:content-type;
        bh=trmsU3xG0c/z7xFDEGMXY4Tpa6HUanwov6rLZCsYmMo=;
        b=0cJHSw82+xpn8V3lKTvggmBF2gvt+aCSRPwofJN2ZmiH5H9QPds/J9vNJ4EXysRT++
         pyntDCGPYwR7b3QO3YPHlL1jv9bv/bn8ioO2x7JvDItZivrM03iS2kgk/jO1bvwQDxTl
         i1XO/cIoY4nvu6EM8ki+y2p1YOo96LyX16Njn3CRY+9kf9JunpAP0Fiz4lRBN6YpvCxW
         0ujEMXtTVzYlyOhzMf/pHXWopTc9unJb+qt0SxfRF9ZBEa5AP1IIXnT264Mdo6AWOV39
         0oxlFiL5EpI3cat+ByAxg/Vz8lo21tMULr8s13zwkIaGvBcqzRZfuFk+Ajn6QitIFXxj
         QrQA==
Original-Received: by 10.224.109.134 with SMTP id j6mr21759406qap.74.1344314333842;
 Mon, 06 Aug 2012 21:38:53 -0700 (PDT)
Original-Received: by 10.229.50.15 with HTTP; Mon, 6 Aug 2012 21:38:53 -0700 (PDT)
In-Reply-To: <CAJuYYwT2rrJkrkOSekV+DjpVAHas33_gUGULTjzsYtcq1UAyoQ@mail.gmail.com>
X-Google-Sender-Auth: p0axFtK8yC-ukpgGZX9TZAQkFg8
Original-Sender: linux-samsung-soc-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-samsung-soc.vger.kernel.org>
X-Mailing-List: linux-samsung-soc@vger.kernel.org
Xref: news.gmane.org gmane.linux.kernel.samsung-soc:11959 gmane.linux.ports.arm.kernel:180570 gmane.linux.kernel:1338792
Archived-At: <http://permalink.gmane.org/gmane.linux.kernel/1338792>

On 8/7/12, Thomas Abraham <thomas.abraham@linaro.org> wrote:
> On 7 August 2012 07:58, Olof Johansson <olof@lixom.net> wrote:
>> Hi,
>>
>> On Mon, Aug 6, 2012 at 7:05 PM, Dongjin Kim
>> <Dongjin.Kim@agreeyamobility.net> wrote:
>>> Hello,
>>>
>>> I am trying to understand what I have to do for device tree.
>>>
>>> In order to create dts file for ODROID-X hardware, it seems I may need
>>> dts file of EXYNOS4412 SoC.
>>> But maybe exynos4412.dtsi is not merged yet or not exist, like
>>> exynos4210.dtsi or exynos5250.dtsi.
>>> Obviously it seems not easy to create such a file without SoC datasheet,
>>> and I do not have it.
>>>
>>> So do I wait for the file to be merged by Samsung or better to create
>>> initial dts file cloned from exynos4210.dtsi and modify to have verified
>>> nodes with the source/header files?
>>
>> Ideally they already have one waiting to be submitted, but that might
>> not be the case. Given that the origenboard design with 4412 is not
>> yet shipping, I'm guessing the Linaro Samsung engineers might not have
>> done much work on 4412 yet. Kukjin? Thomas?
>>
>>> What's your suggestion?
>>
>> The alternative is to use the data you have available -- i.e. sources
>> and patches, and craft the device tree from there. The design of 4412
>> is a derivative from 4210, so that's a good start. Next step would be
>> to describe the board on top of the SoC, peripherals, etc. Take a look
>> at how the origen board support was added, and so on.
>>
>> I ordered an odroid-x several weeks ago but I haven't have a confirmed
>> shipping date yet. :( I'm not sure how long it'll be before I can help
>> out, unfortunately.
>>
>>
>> -Olof
>
> Most of the Exynos4210 device tree support can be reused for
> Exynos4412 as well. Looking at the hardware differences between the
> two, it might be better to create a new exynos4.dtsi file (kind of
> creating it out of the existing exynos4210.dtsi) which will have all
> the common bits across all SoC's in the Exynos4 family.
>
> Further, there can be exynos4210.dtsi and exynos4412.dtsi which would
> specify SoC specific differences such as the GIC cpu-offset property
> and the additional groups available in the interrupt combiner.
>
> There are differences in the gpio/pinmux controllers as well which
> have to be described using device tree. The current gpio/pinmux device
> tree support depends entirely on the gpio-samsung driver which handles
> both gpio and pinmux but requires listing all the banks available in
> Exynos4412. I would prefer not to do that since we are switching over
> to using a pin controller driver and I am currently working on this
> driver.
>
> The pin controller driver is important without which the
> gpio/pinmux/pinconf setting for devices such as i2c and sdhci
> controller cannot be setup. The basic pinctrl driver for Exynos4 has
> already been posted and now I am working on adding gpio and wakeup
> interrupt support into that driver (hoping to complete it this week).
>
> So the probable steps in getting started with using device tree for
> Exynos4412 would be
>
> 1. Create a new exynos4.dtsi file with all the Exynos4 common
> properties for all dt supported controllers.
> 2. Update the exynos4210.dtsi file accordingly and add the new
> exynos4412.dtsi file.
> 3. With this, it will be possible to boot the kernel and test
> peripherals that do not depend on gpio/pinmux (rtc, wdt, etc).
> 4. When the Exynos4 pinctrl driver is available, start adding device
> nodes for i2c and sdhci controllers.
> 5. Incrementally add device tree coverage for the board and other
> peripherals on Exynos4412.
Nice!
Good plan as I thnk.

Thank you,
Kyungmin Park
