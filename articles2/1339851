Path: news.gmane.org!not-for-mail
From: Thierry Reding <thierry.reding@avionic-design.de>
Newsgroups: gmane.linux.kernel.samsung-soc,gmane.linux.kernel
Subject: Re: [PATCH] ARM: SAMSUNG: Fix compilation error with
 s3c2410_defconfig
Date: Wed, 8 Aug 2012 08:50:46 +0200
Lines: 106
Approved: news@gmane.org
Message-ID: <20120808065046.GA30832@avionic-0098.mockup.avionic-design.de>
References: <1344333546-16995-1-git-send-email-tushar.behera@linaro.org>
 <098f01cd7488$0d66d630$28348290$%kim@samsung.com>
 <5020F568.5020204@linaro.org>
 <0a2d01cd7500$53e26c50$fba744f0$%kim@samsung.com>
 <20120808061102.GA22417@avionic-0098.mockup.avionic-design.de>
 <0abe01cd752f$4f96ad80$eec40880$%kim@samsung.com>
NNTP-Posting-Host: plane.gmane.org
Mime-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha1;
	protocol="application/pgp-signature"; boundary="sm4nu43k4a2Rpi4c"
X-Trace: dough.gmane.org 1344408664 8580 80.91.229.3 (8 Aug 2012 06:51:04 GMT)
X-Complaints-To: usenet@dough.gmane.org
NNTP-Posting-Date: Wed, 8 Aug 2012 06:51:04 +0000 (UTC)
Cc: 'Tushar Behera' <tushar.behera@linaro.org>,
	linux-samsung-soc@vger.kernel.org, linux-kernel@vger.kernel.org,
	s.hauer@pengutronix.de, patches@linaro.org,
	Jingoo Han <jg1.han@samsung.com>
To: Kukjin Kim <kgene.kim@samsung.com>
Original-X-From: linux-samsung-soc-owner@vger.kernel.org Wed Aug 08 08:51:02 2012
Return-path: <linux-samsung-soc-owner@vger.kernel.org>
Envelope-to: glks-linux-samsung-soc@plane.gmane.org
Original-Received: from vger.kernel.org ([209.132.180.67])
	by plane.gmane.org with esmtp (Exim 4.69)
	(envelope-from <linux-samsung-soc-owner@vger.kernel.org>)
	id 1Sz06c-0006IN-Rl
	for glks-linux-samsung-soc@plane.gmane.org; Wed, 08 Aug 2012 08:50:59 +0200
Original-Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1753613Ab2HHGuy (ORCPT
	<rfc822;glks-linux-samsung-soc@m.gmane.org>);
	Wed, 8 Aug 2012 02:50:54 -0400
Original-Received: from moutng.kundenserver.de ([212.227.126.171]:51994 "EHLO
	moutng.kundenserver.de" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
	with ESMTP id S1752051Ab2HHGux (ORCPT
	<rfc822;linux-samsung-soc@vger.kernel.org>);
	Wed, 8 Aug 2012 02:50:53 -0400
Original-Received: from mailbox.adnet.avionic-design.de (mailbox.avionic-design.de [109.75.18.3])
	by mrelayeu.kundenserver.de (node=mreu4) with ESMTP (Nemesis)
	id 0MHehs-1T2HtF18GK-003K2w; Wed, 08 Aug 2012 08:50:49 +0200
Original-Received: from localhost (localhost [127.0.0.1])
	by mailbox.adnet.avionic-design.de (Postfix) with ESMTP id 804952A282E0;
	Wed,  8 Aug 2012 08:50:48 +0200 (CEST)
X-Virus-Scanned: amavisd-new at avionic-design.de
Original-Received: from mailbox.adnet.avionic-design.de ([127.0.0.1])
	by localhost (mailbox.avionic-design.de [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id KOLbtfoVLz2w; Wed,  8 Aug 2012 08:50:47 +0200 (CEST)
Original-Received: from localhost (avionic-0098.adnet.avionic-design.de [172.20.31.233])
	(Authenticated sender: thierry.reding)
	by mailbox.adnet.avionic-design.de (Postfix) with ESMTPA id 65ABB2A282CC;
	Wed,  8 Aug 2012 08:50:47 +0200 (CEST)
Content-Disposition: inline
In-Reply-To: <0abe01cd752f$4f96ad80$eec40880$%kim@samsung.com>
User-Agent: Mutt/1.5.21 (2010-09-15)
X-Provags-ID: V02:K0:UaZrWaucNR4jzH6gJrHxbkAS1qDy7AuN/mosvTRCUaY
 sDpGcRsxvoMcqyt/F3kZ1JSOG2nw4KNc13WpctEHdNdwhYIBOd
 km5TtI6r3bCC8+DXvoHd188JPKxTT+je+/OebLA7PITCcvuaXc
 +3PronaeJ8uyypLSNNPt6U6Oae0lEkQDyKV/Txv+6SSJWUMlki
 5dpUJL+se/C36Av2VtCKGluTdJutdGUsWZFUo/mIWTqnlqrLSK
 r9t+6ZWts/J5WX2q72OLWAZrm0yNam79ven5s6lah7U3NxYPK1
 OkTRBYL0Rs+GnB6uzq2zc24lXY/pDyZTmQLrXEIKZg9xUM/6C3
 tuT+1AVqolPgng9MbVil84OM9RAjJVtGuGHXfnFmqMPv0wSvVk
 NNkXFpIxcewmGhZsMO85bqQq6fu60LxeD8=
Original-Sender: linux-samsung-soc-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-samsung-soc.vger.kernel.org>
X-Mailing-List: linux-samsung-soc@vger.kernel.org
Xref: news.gmane.org gmane.linux.kernel.samsung-soc:12017 gmane.linux.kernel:1339851
Archived-At: <http://permalink.gmane.org/gmane.linux.kernel/1339851>


--sm4nu43k4a2Rpi4c
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

On Wed, Aug 08, 2012 at 03:30:32PM +0900, Kukjin Kim wrote:
> Thierry Reding wrote:
> >=20
> > On Wed, Aug 08, 2012 at 09:54:13AM +0900, Kukjin Kim wrote:
> > > diff --git a/arch/arm/plat-samsung/Kconfig b/arch/arm/plat-
> > samsung/Kconfig
> > > index 7aca31c..dcdfb77 100644
> > > --- a/arch/arm/plat-samsung/Kconfig
> > > +++ b/arch/arm/plat-samsung/Kconfig
> > > @@ -403,7 +403,7 @@ config S5P_DEV_USB_EHCI
> > >
> > >  config S3C24XX_PWM
> > >  	bool "PWM device support"
> > > -	select HAVE_PWM
> > > +	select PWM
> > >  	help
> > >  	  Support for exporting the PWM timer blocks via the pwm device
> > >  	  system
> >=20
> > You could add
> >=20
> > 	select PWM_SAMSUNG
> >=20
> Well, the 'PWM_SAMSUNG' depends on 'PWM', so I think, it'd better to sele=
ct
> PWM_SAMSUNG for building pwm-samsung.c automatically when PWM is selected.
>=20
> > here to side-step the issue below.
> >=20
> > > diff --git a/drivers/pwm/Kconfig b/drivers/pwm/Kconfig
> > > index 8fc3808..34c8ec1 100644
> > > --- a/drivers/pwm/Kconfig
> > > +++ b/drivers/pwm/Kconfig
> > > @@ -59,7 +59,7 @@ config PWM_PXA
> > >
> > >  config PWM_SAMSUNG
> > >  	tristate "Samsung pwm support"
> > > -	depends on PLAT_SAMSUNG
> > > +	def_bool PLAT_SAMSUNG
> >=20
> > tristate and def_bool conflict, don't they? I think the easiest way to
>=20
> Yeah, your pointing out is correct, but in this case, it should be 'bool'
> not 'tristate' because the PWM driver cannot support module now.

Is there any reason why that is so? Looking at the driver it seems like
it should be easy to turn it into a module. I know that Jingoo (Cc'ed)
has been working on the driver and I've asked him the same question
already.

Anyway I don't want to force the issue, I just think you should consider
it.

> > solve this problem would be to add a default line, like so:
> >=20
> > 	default PLAT_SAMSUNG
> >=20
> > I've checked this with a s3c2410_defconfig and this causes PWM_SAMSUNG
> > to be selected =3Dy, which I guess is what you want.
> >=20
> How do you think following, just adding from original one?
>=20
> -	tristate "Samsung pwm support"
> +	bool "SAMSUNG PWM support"
>=20
> Thanks.

If you convert this to bool anyway, then maybe you can still use
def_bool:

	config PWM_SAMSUNG
		prompt "SAMSUNG PWM support" if PLAT_SAMSUNG
		def_bool PLAT_SAMSUNG

Any particular reason why you want "SAMSUNG" capitalized?

Thierry

--sm4nu43k4a2Rpi4c
Content-Type: application/pgp-signature

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.19 (GNU/Linux)

iQIcBAEBAgAGBQJQIgxGAAoJEN0jrNd/PrOhOFEP/jR19b8ZJnplVNqlwZavVRbl
lLp3BKh5Z1L/CLancMJECgc3QW+PfD85H3wRy/xGP6Y+BTSnEc4LZPjc/KX+FFgW
WE0powgZrNJiYs/ZsVAx4H2FyUuE1Wui5pDzS0jL1uMqwj+5HUwYE/HJ4jnDY6gi
APL16EBbf1PQHuVwdFr9sDKHe6n+JMuMBMD614tHVlbCHn+PVNYThqcevBY0zq1j
ZxOiXU4ASOqocm34SIJEKnwRWO1Gxy7tjACUmiqPIykl2yyQPQhy7d6xhB4DPvXB
z+s79oQ3y8+jKWSDsE0N++828F7pOerhYrnke8xxRSU0wMwlY9dmHm/Yh8yFI99i
p7liblORzfYaQ2C99xdOPreF9MVPVG7NmEKlMO1OwKjl0wsXDsjEY5RwK3SvxbeD
PIBRED0Bdvm4tXw6ugfUftLXUL0cYqovaBu5kwEamITxoaN7iVz4oei9X7vVvldY
PmvlzoE3Bw1RjKzz9cfLkZ0ip1/32m8z3V57IjvCPt/6zvHM6H8pudsKwugNBWVS
EhnTfzOvUY6xNpRDzWhTPVHNzG3wutNZISRu4Pzcrl5JYRnG0W1l/T1ZxrktMMAQ
czKWzN8OqbNcmXQ6Zg9GXspv9/6zjpfggpkLT+HhhgnQGBOyFyREUToATYTGBe4o
3+mRzL0kZH4jc35tSeHx
=FrJc
-----END PGP SIGNATURE-----

--sm4nu43k4a2Rpi4c--
