Path: news.gmane.org!not-for-mail
From: H Hartley Sweeten <hartleys@visionengravers.com>
Newsgroups: gmane.linux.kernel
Subject: RE: [PATCH 15/90] staging: comedi: adv_pci1723: move
 comedi_pci_enable() into the attach
Date: Thu, 19 Jul 2012 12:12:02 -0500
Lines: 75
Approved: news@gmane.org
Message-ID: <ADE657CA350FB648AAC2C43247A983F00206AA916472@AUSP01VMBX24.collaborationhost.net>
References: <201207181830.48668.hartleys@visionengravers.com>
 <5007D568.2050401@mev.co.uk>
NNTP-Posting-Host: plane.gmane.org
Mime-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
X-Trace: dough.gmane.org 1342717944 29187 80.91.229.3 (19 Jul 2012 17:12:24 GMT)
X-Complaints-To: usenet@dough.gmane.org
NNTP-Posting-Date: Thu, 19 Jul 2012 17:12:24 +0000 (UTC)
Cc: Linux Kernel <linux-kernel@vger.kernel.org>,
	"devel@driverdev.osuosl.org" <devel@driverdev.osuosl.org>,
	Ian Abbott <ian.abbott@mev.co.uk>,
	"gregkh@linuxfoundation.org" <gregkh@linuxfoundation.org>
To: Ian Abbott <abbotti@mev.co.uk>
Original-X-From: linux-kernel-owner@vger.kernel.org Thu Jul 19 19:12:19 2012
Return-path: <linux-kernel-owner@vger.kernel.org>
Envelope-to: glk-linux-kernel-3@plane.gmane.org
Original-Received: from vger.kernel.org ([209.132.180.67])
	by plane.gmane.org with esmtp (Exim 4.69)
	(envelope-from <linux-kernel-owner@vger.kernel.org>)
	id 1SruGv-0004Tq-T8
	for glk-linux-kernel-3@plane.gmane.org; Thu, 19 Jul 2012 19:12:18 +0200
Original-Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
	id S1752309Ab2GSRMI (ORCPT <rfc822;glk-linux-kernel-3@m.gmane.org>);
	Thu, 19 Jul 2012 13:12:08 -0400
Original-Received: from mail132.messagelabs.com ([216.82.242.115]:38727 "EHLO
	mail132.messagelabs.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
	with ESMTP id S1752149Ab2GSRMG (ORCPT
	<rfc822;linux-kernel@vger.kernel.org>);
	Thu, 19 Jul 2012 13:12:06 -0400
X-Env-Sender: hartleys@visionengravers.com
X-Msg-Ref: server-15.tower-132.messagelabs.com!1342717923!14858471!3
X-Originating-IP: [216.166.12.98]
X-StarScan-Version: 6.5.10; banners=-,-,-
X-VirusChecked: Checked
Original-Received: (qmail 1956 invoked from network); 19 Jul 2012 17:12:04 -0000
Original-Received: from out001.collaborationhost.net (HELO out001.collaborationhost.net) (216.166.12.98)
  by server-15.tower-132.messagelabs.com with RC4-SHA encrypted SMTP; 19 Jul 2012 17:12:04 -0000
Original-Received: from AUSP01VMBX24.collaborationhost.net ([10.2.12.1]) by
 AUSP01MHUB07.collaborationhost.net ([10.2.8.242]) with mapi; Thu, 19 Jul 2012
 12:12:04 -0500
Thread-Topic: [PATCH 15/90] staging: comedi: adv_pci1723: move
 comedi_pci_enable() into the attach
Thread-Index: Ac1lkimacvK3PJeqQkanuSwulbIcxwAOGeCg
In-Reply-To: <5007D568.2050401@mev.co.uk>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Original-Sender: linux-kernel-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org
Xref: news.gmane.org gmane.linux.kernel:1330457
Archived-At: <http://permalink.gmane.org/gmane.linux.kernel/1330457>

T24gVGh1cnNkYXksIEp1bHkgMTksIDIwMTIgMjozOCBBTSwgSWFuIEFiYm90dCB3cm90ZToNCj4g
T24gMjAxMi0wNy0xOSAwMjozMCwgSCBIYXJ0bGV5IFN3ZWV0ZW4gd3JvdGU6DQo+PiBVc2UgcGNp
X2lzX2VuYWJsZWQoKSBpbiB0aGUgImZpbmQgcGNpIGRldmljZSIgZnVuY3Rpb24gdG8gZGV0ZXJt
aW5lIGlmDQo+PiB0aGUgZm91bmQgcGNpIGRldmljZSBpcyBub3QgaW4gdXNlIGFuZCBtb3ZlIHRo
ZSBjb21lZGlfcGNpX2VuYWJsZSgpIGNhbGwNCj4+IGludG8gdGhlIGF0dGFjaC4NCj4+DQo+PiBT
aWduZWQtb2ZmLWJ5OiBIIEhhcnRsZXkgU3dlZXRlbiA8aHN3ZWV0ZW5AdmlzaW9uZW5ncmF2ZXJz
LmNvbT4NCj4+IENjOiBJYW4gQWJib3R0IDxhYmJvdHRpQG1ldi5jby51az4NCj4+IENjOiBHcmVn
IEtyb2FoLUhhcnRtYW4gPGdyZWdraEBsaW51eGZvdW5kYXRpb24ub3JnPg0KPj4gLS0tDQo+PiAg
IGRyaXZlcnMvc3RhZ2luZy9jb21lZGkvZHJpdmVycy9hZHZfcGNpMTcyMy5jIHwgMTAgKysrKyst
LS0tLQ0KPj4gICAxIGZpbGUgY2hhbmdlZCwgNSBpbnNlcnRpb25zKCspLCA1IGRlbGV0aW9ucygt
KQ0KPj4NCj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3N0YWdpbmcvY29tZWRpL2RyaXZlcnMvYWR2
X3BjaTE3MjMuYyBiL2RyaXZlcnMvc3RhZ2luZy9jb21lZGkvZHJpdmVycy9hZHZfcGNpMTcyMy5j
DQo+PiBpbmRleCBmNTYxYTJhLi5lOTcxZmE2IDEwMDY0NA0KPj4gLS0tIGEvZHJpdmVycy9zdGFn
aW5nL2NvbWVkaS9kcml2ZXJzL2Fkdl9wY2kxNzIzLmMNCj4+ICsrKyBiL2RyaXZlcnMvc3RhZ2lu
Zy9jb21lZGkvZHJpdmVycy9hZHZfcGNpMTcyMy5jDQo+PiBAQCAtMzAyLDExICszMDIsNyBAQCBz
dGF0aWMgc3RydWN0IHBjaV9kZXYgKnBjaTE3MjNfZmluZF9wY2lfZGV2KHN0cnVjdCBjb21lZGlf
ZGV2aWNlICpkZXYsDQo+PiAgIAkJfQ0KPj4gICAJCWlmIChwY2lkZXYtPnZlbmRvciAhPSBQQ0lf
VkVORE9SX0lEX0FEVkFOVEVDSCkNCj4+ICAgCQkJY29udGludWU7DQo+PiAtCQkvKg0KPj4gLQkJ
ICogTG9vayBmb3IgZGV2aWNlIHRoYXQgaXNuJ3QgaW4gdXNlLg0KPj4gLQkJICogRW5hYmxlIFBD
SSBkZXZpY2UgYW5kIHJlcXVlc3QgcmVnaW9ucy4NCj4+IC0JCSAqLw0KPj4gLQkJaWYgKGNvbWVk
aV9wY2lfZW5hYmxlKHBjaWRldiwgImFkdl9wY2kxNzIzIikpDQo+PiArCQlpZiAocGNpX2lzX2Vu
YWJsZWQocGNpZGV2KSkNCj4+ICAgCQkJY29udGludWU7DQo+PiAgIAkJcmV0dXJuIHBjaWRldjsN
Cj4+ICAgCX0NCj4NCj4gSnVzdCBiZWNhdXNlIHRoZSBkZXZpY2UgaXMgZW5hYmxlZCBkb2Vzbid0
IG1lYW4gdGhhdCBpdCBpcyBpbiB1c2UsIHNvIA0KPiB0aGlzIGNoYW5nZSBjb3VsZCBza2lwIG92
ZXIgYSBwZXJmZWN0bHkgZ29vZCB1bnVzZWQgZGV2aWNlLg0KDQpBcmUgeW91IHN1cmU/IEFjY29y
ZGluZyB0byBEb2N1bWVudGF0aW9uL1BDSS9wY2kudHh0LCB0aGUgZmlyc3QgdGhpbmcNCmEgZHJp
dmVyICJzaG91bGQiIGRvIHdoZW4gdGFraW5nIG93bmVyc2hpcCBvZiBhIFBDSSBkZXZpY2UgaXMg
ZW5hYmxlDQp0aGUgZGV2aWNlLiBUaGUgbGFzdCB0aGluZyBpdCAic2hvdWxkIiBkbyB3aGVuIGJl
aW5nIHVubG9hZGVkIGlzDQpkaXNhYmxlIHRoZSBkZXZpY2UuDQoNCkl0IHdvdWxkIHNlZW0gdGhh
dCBjaGVja2luZyBwY2lfaXNfZW5hYmxlZCgpIHdvdWxkIGxldCB1cyBrbm93IHRoYXQNCnRoZSBw
Y2lfZGV2IGluIHF1ZXN0aW9uIGlzIGJlaW5nIHVzZWQuDQoNCj4gSWYgeW91IHdhbnQgdG8gbW92
ZSB0aGUgY29tZWRpX3BjaV9lbmFibGUoKSBjYWxsLCB0aGlzIGlzIGEgY2hhbmdlIGluIA0KPiBi
ZWhhdmlvdXIgZm9yIHRoaXMgcGFydGljdWxhciBkcml2ZXIsIGJ1dCBpcyBjb25zaXN0ZW50IHdp
dGggbW9zdCBvZiB0aGUgDQo+IG90aGVyIENvbWVkaSBQQ0kgZHJpdmVycyAoYW5kIHRoZSBidXMv
c2xvdCBvcHRpb25zIGNhbiBiZSB1c2VkIHRvIHNlbGVjdCANCj4gYSBwYXJ0aWN1bGFyIGRldmlj
ZSkuICBUaGlzIGlzIHByb2JhYmx5IGEgZ29vZCB0aGluZywgYnV0IHlvdSBzaG91bGQgDQo+IHRh
a2Ugb3V0IHRoZSBwY2lfaXNfZW5hYmxlZCB0ZXN0Lg0KDQpJIHdhcyBjdXJpb3VzIGFib3V0IHRo
aXMuDQoNCkluIHRoZSBvcmlnaW5hbCBkcml2ZXIsIGRvaW5nIGFuICdhdHRhY2gnIHdpdGggYnVz
L3Nsb3QgYm90aCA9IDAgd291bGQgcmVzdWx0DQppbiB0aGUgcGNpIGJ1cyBiZWluZyB3YWxrZWQg
dG8gZmluZCB0aGUgZmlyc3QgZGV2aWNlIHRoYXQgY291bGQgYmUgZW5hYmxlZA0KKGkuZS4gYSAi
ZnJlZSIgZGV2aWNlKSBhbmQgdXNpbmcgdGhhdCBkZXZpY2UuIFRoaXMgYWxsb3dzIGRvaW5nIHRo
ZSAnYXR0YWNoJw0Kd2l0aCBtb3JlIHRoYW4gb25lIGNhcmQgaW5zdGFsbGVkIGFuZCBiZWluZyBh
YmxlIHRvIGF0dGFjaCB0byBlYWNoIG9uZQ0KYnkgc2ltcGx5Og0KDQpjb21lZGlfY29uZmlnIC9k
ZXYvY29tZWRpMCBhZHZfcGNpMTcyMw0KY29tZWRpX2NvbmZpZyAvZGV2L2NvbWVkaTEgYWR2X3Bj
aTE3MjMNCmV0Yy4NCg0KVGhlICJub3JtYWwiIG9wZXJhdGlvbiBmb3IgdGhlIGNvbWVkaSBwY2kg
ZHJpdmVycyBhcHBlYXJzIHRvIHJlcXVpcmUNCnRoZSBidXMvc2xvdCBpbmZvcm1hdGlvbiB3aGVu
IG11bHRpcGxlIGRldmljZXMgYXJlIHVzZWQuIE9yIGltcGxlbWVudA0KdGhlICdhdHRhY2hfcGNp
JyBjYWxsYmFjayBpbiB0aGUgY29tZWRpX2RyaXZlciBhbmQgYWxsb3cgdGhlIGNvcmUgdG8NCnNp
bXBseSBwYXNzIHRoZSBwY2lfZGV2IGRpcmVjdGx5IHRvIHRoZSBkcml2ZXIuDQoNCldoYXQgd291
bGQgeW91IHByZWZlcj8NCg0KSSB3YXMgcGxhbm5pbmcgb24gbWFraW5nIGEgY29tZWRpX2ZpbmRf
cGNpX2RldigpIGZ1bmN0aW9uIHRoYXQgdGhlDQpkcml2ZXJzIGNvdWxkIGNhbGwgd2l0aCBhICJt
YXRjaCIgY2FsbGJhY2suIFRoaXMgd291bGQgYWxsb3cgYSBjb21tb24NCmZ1bmN0aW9uIGZvciBt
b3N0IG9mIHRoZSBib2lsZXJwbGF0ZSBjb2RlIGFuZCBqdXN0IHJlcXVpcmUgdGhlIGRyaXZlcnMN
CnRvIGNoZWNrIHRoZSB0aGUgbWF0Y2ggYWdhaW5zdCB0aGUgYm9hcmRpbmZvIGRldi9pZCwgZXRj
LiBhcyByZXF1aXJlZC4NClNvbWV0aGluZyBsaWtlOg0KDQpzdHJ1Y3QgcGNpX2RldiAqY29tZWRp
X2ZpbmRfcGNpX2RldihzdHJ1Y3QgY29tZWRpX2RldmljZSAqZGV2LA0KCXN0cnVjdCBjb21lZGlf
ZGV2Y29uZmlnICppdCwNCgljb25zdCB2b2lkICooKm1hdGNoKShzdHJ1Y3QgY29tZWRpX2Rldmlj
ZSAqLA0KCQkJCXN0cnVjdCBwY2lfZGV2ICopKQ0Kew0KCXN0cnVjdCBwY2lfZGV2ICpwY2lkZXYg
PSBOVUxMOw0KCWludCBidXMgPSBpdC0+b3B0aW9uc1swXTsNCglpbnQgc2xvdCA9IGl0LT5vcHRp
b25zWzFdOw0KDQoJZm9yX2VhY2hfcGNpX2RldihwY2lkZXYpIHsNCgkJLyogcGNpX2lzX2VuYWJs
ZWQoKSB0ZXN0PyAqLw0KCQlpZiAoKGJ1cyAmJiBidXMgIT0gcGNpZGV2LT5idXMtPm51bWJlcikg
fHwNCgkJICAgIChzbG90ICYmIHNsb3QgIT0gUENJX1NMT1QocGNpZGV2LT5kZXZmbikpKQ0KCQkJ
Y29udGludWU7DQoJCWRldi0+Ym9hcmRfcHRyID0gbWF0Y2goZGV2LCBwY2lkZXYpOw0KCQlpZiAo
ZGV2LT5ib2FyZF9wdHIpIHsNCgkJCWNvbWVkaV9zZXRfaHdfZGV2KGRldiwgJnBjaWRldi0+ZGV2
KTsNCgkJCXJldHVybiBwY2lkZXY7DQoJCX0NCgl9DQoJcmV0dXJuIE5VTEw7DQp9DQoNClRoZSAi
bWF0Y2giIGZ1bmN0aW9uIGZvciBhIGRyaXZlciB3b3VsZCB0aGVuIGp1c3QgYmUgc29tZXRoaW5n
IGxpa2U6DQoNCmNvbnN0IHZvaWQgKm1hdGNoX3BjaShzdHJ1Y3QgY29tZWRpX2RldmljZSAqZGV2
LCBzdHJ1Y3QgcGNpX2RldiAqcGNpZGV2KQ0Kew0KCWNvbnN0IHN0cnVjdCBib2FyZGluZm8gKmJv
YXJkOw0KCWludCBpOw0KDQoJZm9yIChpID0gMDsgaSA8IEFSUkFZX1NJWkUoYm9hcmRpbmZvKTsg
aSsrKSB7DQoJCWJvYXJkID0gJmJvYXJkaW5mb1tpXTsNCgkJaWYgKHBjaWRldi0+dmVuZG9yICE9
IGJvYXJkLT52ZW5faWQgfHwNCgkJICAgIHBjaWRldi0+ZGV2aWNlICE9IGJvYXJkLT5kZXZfaWQp
DQoJCQljb250aW51ZTsNCgkJcmV0dXJuIGJvYXJkOw0KCX0NCglyZXR1cm4gTlVMTDsNCn0NCg0K
VGhpcyB3b3VsZCByZXF1aXJlIGFkZGluZyBhIGR1bW15IGJvYXJkaW5mbyB0byBzb21lIG9mIHRo
ZSBkcml2ZXJzIGJ1dA0KSSB0aGluayBpdCdzIGNsZWFuZXIuDQoNCkNvbW1lbnRzPw0KDQpSZWdh
cmRzLA0KSGFydGxleQ0KDQo=
