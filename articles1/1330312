Path: news.gmane.org!not-for-mail
From: Arnd Bergmann <arnd-r2nGTMty4D4@public.gmane.org>
Newsgroups: gmane.linux.drivers.devicetree,gmane.linux.kernel,gmane.linux.ports.arm.kernel
Subject: Re: [PATCH 1/1] Add Wondermedia Technologies (wmt) to
 docs/devicetree/vendor-bindings.txt
Date: Thu, 19 Jul 2012 12:28:48 +0000
Lines: 30
Approved: news@gmane.org
Message-ID: <201207191228.48809.arnd@arndb.de>
References: <76F764B079F92A4E843589C893D0A022C380F1D4@SERVER.prisktech.co.nz>
 <201207191116.27273.arnd@arndb.de>
 <76F764B079F92A4E843589C893D0A022C3811BFD@SERVER.prisktech.co.nz>
NNTP-Posting-Host: plane.gmane.org
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Trace: dough.gmane.org 1342700958 7033 80.91.229.3 (19 Jul 2012 12:29:18 GMT)
X-Complaints-To: usenet@dough.gmane.org
NNTP-Posting-Date: Thu, 19 Jul 2012 12:29:18 +0000 (UTC)
Cc: Russell King <linux-lFZ/pmaqli7XmaaqVzeoHQ@public.gmane.org>,
 "devicetree-discuss-uLR06cmDAlY/bJ5BZ2RsiQ@public.gmane.org"
 <devicetree-discuss-uLR06cmDAlY/bJ5BZ2RsiQ@public.gmane.org>,
 "linux-kernel-u79uwXL29TY76Z2rM5mHXA@public.gmane.org" <linux-kernel-u79uwXL29TY76Z2rM5mHXA@public.gmane.org>,
 Alexey Charkov <alchark-Re5JQEeQqe8AvxtiuMwx3w@public.gmane.org>,
 "vt8500-wm8505-linux-kernel-/JYPxA39Uh5TLH3MbocFFw@public.gmane.org"
 <vt8500-wm8505-linux-kernel-/JYPxA39Uh5TLH3MbocFFw@public.gmane.org>,
 "linux-arm-kernel-IAPFreCvJWM7uuMidbF8XUB+6BGkLq7r@public.gmane.org" <linux-arm-kernel-IAPFreCvJWM7uuMidbF8XUB+6BGkLq7r@public.gmane.org>
To: Tony Prisk <linux-ci5G2KO2hbZ+pU9mqzGVBQ@public.gmane.org>
Original-X-From: devicetree-discuss-bounces+gldd-devicetree-discuss=m.gmane.org-uLR06cmDAlY/bJ5BZ2RsiQ@public.gmane.org Thu Jul 19 14:29:16 2012
Return-path: <devicetree-discuss-bounces+gldd-devicetree-discuss=m.gmane.org-uLR06cmDAlY/bJ5BZ2RsiQ@public.gmane.org>
Envelope-to: gldd-devicetree-discuss@m.gmane.org
Original-Received: from ozlabs.org ([203.10.76.45])
	by plane.gmane.org with esmtp (Exim 4.69)
	(envelope-from <devicetree-discuss-bounces+gldd-devicetree-discuss=m.gmane.org-uLR06cmDAlY/bJ5BZ2RsiQ@public.gmane.org>)
	id 1Srpqx-0004Te-KO
	for gldd-devicetree-discuss@m.gmane.org; Thu, 19 Jul 2012 14:29:12 +0200
Original-Received: from ozlabs.org (localhost [IPv6:::1])
	by ozlabs.org (Postfix) with ESMTP id 1DDE02C037F
	for <gldd-devicetree-discuss@m.gmane.org>; Thu, 19 Jul 2012 22:29:10 +1000 (EST)
Original-Received: from moutng.kundenserver.de (moutng.kundenserver.de [212.227.17.10])
 by ozlabs.org (Postfix) with ESMTP id E40982C027A
 for <devicetree-discuss-uLR06cmDAlY/bJ5BZ2RsiQ@public.gmane.org>;
 Thu, 19 Jul 2012 22:29:01 +1000 (EST)
Original-Received: from klappe2.localnet (deibp9eh1--blueice3n2.emea.ibm.com
 [195.212.29.180])
 by mrelayeu.kundenserver.de (node=mreu4) with ESMTP (Nemesis)
 id 0MKxYi-1Srpqe0WMi-0001fN; Thu, 19 Jul 2012 14:28:52 +0200
User-Agent: KMail/1.12.2 (Linux/3.5.0-rc1+; KDE/4.3.2; x86_64; ; )
In-Reply-To: <76F764B079F92A4E843589C893D0A022C3811BFD-A1+cU8XkcJSYgi1/3OOQJ8krCUz0bFs7@public.gmane.org>
X-Provags-ID: V02:K0:uBirEi6jsG5912mmgtg3kBFf5KTe1Mecs7GO0LHDqVy
 NOpsvTPsUjP8EjE4+l2UkqfLk9NndKW9K2bkTYF1aMo1j9++sy
 +lUdKVrLTWLI5NA+Pg+cuqmkWB8PlMgfDNDrUpWDG17PEanTIK
 LDlRRJZRW5rLW59YcMzj9wmSDOnyNE3bZ6yRaI9NQ2SNA8w65i
 u9NzJcPcGqMsrDRsZoMXvG9ARPxjS/OE5sCrPT+2/qFbAX/W4B
 11yam0nSVweOeloYABULyE/4wFC9KYXdxaREPSj0Xf/eQLeEod
 5qvT3kWx2EQeEyWVqwgMLyzWPay2IL/Jz8pAJjpQ3CNL40p3kF
 C2BKiDJ7A0VPhdEupxSI=
X-BeenThere: devicetree-discuss-uLR06cmDAlY/bJ5BZ2RsiQ@public.gmane.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: Discussion about Device Trees and associated tools across all
 architectures <devicetree-discuss.lists.ozlabs.org>
List-Unsubscribe: <https://lists.ozlabs.org/options/devicetree-discuss>,
 <mailto:devicetree-discuss-request-uLR06cmDAlY/bJ5BZ2RsiQ@public.gmane.org?subject=unsubscribe>
List-Archive: <http://lists.ozlabs.org/pipermail/devicetree-discuss/>
List-Post: <mailto:devicetree-discuss-uLR06cmDAlY/bJ5BZ2RsiQ@public.gmane.org>
List-Help: <mailto:devicetree-discuss-request-uLR06cmDAlY/bJ5BZ2RsiQ@public.gmane.org?subject=help>
List-Subscribe: <https://lists.ozlabs.org/listinfo/devicetree-discuss>,
 <mailto:devicetree-discuss-request-uLR06cmDAlY/bJ5BZ2RsiQ@public.gmane.org?subject=subscribe>
Errors-To: devicetree-discuss-bounces+gldd-devicetree-discuss=m.gmane.org-uLR06cmDAlY/bJ5BZ2RsiQ@public.gmane.org
Original-Sender: "devicetree-discuss"
 <devicetree-discuss-bounces+gldd-devicetree-discuss=m.gmane.org-uLR06cmDAlY/bJ5BZ2RsiQ@public.gmane.org>
Xref: news.gmane.org gmane.linux.drivers.devicetree:18329 gmane.linux.kernel:1330312 gmane.linux.ports.arm.kernel:177949
Archived-At: <http://permalink.gmane.org/gmane.linux.kernel/1330312>

On Thursday 19 July 2012, Tony Prisk wrote:
> I have no issue with that.
> 
> I am mainly concerned with the Wondermedia products at the moment.
> 
> Adding device tree support for WM8505 (and WM8650) is my main goal as the WM8650
> currently isn't supported and trying to get another board file added seems unlikely with
> everything moving to device tree. The VT8500 requires additional/different patches and
> as I don't have a vt8500 I can't test them.
> 
> It does raise the question of applying 'wmt, prizm-pmc' to the vt8500 though. While it's
> fine for the restart patch I submitted, the vt8500 registers are the same but the bit-fields
> are different and therefore not entirely compatible with 'prizm-pmc'.
> When it comes to other PMC-related features, in particular the clocks, the VT8500 is quite
> different in its bit-fields.
> 
> The vt8500 isn't technically in the Prizm family, as that is Wondermedia's name for the SoC's.
> 

My point is that for each peripheral, we should decide separately what the
most descriptive name for it is. If the pmc is common for all wmt prizm
chips, then using the "wmt,prizm-pmc" string makes sense, and vt8500
can use "via,vt8500-pmc" or something like that.

However for stuff like the rtc that appears to be unchanged between them,
I would use the compatible string of the oldest known chip using it,
so even a wmt8650 should just claim compatibility with vt8500 there and
list both "wmt,wm8650-rtc" and "via,vt8500-rtc" there.

	Arnd
